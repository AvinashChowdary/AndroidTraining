package com.pcs.sharedpreferences;

import com.example.sharedpreferences.R;
import com.pcs.constants.Constants;

import android.app.Activity;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;

public class SharedActivity extends Activity{

	@Override
	protected void onCreate(Bundle savedInstanceState) {

		super.onCreate(savedInstanceState);
		setContentView(R.layout.shared_layout);

		final EditText nameEdt = (EditText) findViewById(R.id.name);
		final EditText pwdEdt = (EditText) findViewById(R.id.pwd);
		Button loginBtn = (Button) findViewById(R.id.login);

		loginBtn.setOnClickListener(new OnClickListener() {

			@Override
			public void onClick(View v) {

				SharedPreferences mSharedPreferences = getPreferences(MODE_PRIVATE);
				Editor editor = mSharedPreferences.edit();
				
				editor.putString(Constants.IntentExtras.NAME, nameEdt.getText().toString());
				editor.putString(Constants.IntentExtras.PASSWORD, pwdEdt.getText().toString());
				
				editor.commit();
				
				Intent mIntent = new Intent(getBaseContext(), ResultActivity.class);
				mIntent.putExtra(Constants.IntentExtras.NAME, nameEdt.getText().toString());
			}
		});
	}

}
